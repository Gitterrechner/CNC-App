<!DOCTYPE html>
<html lang="de">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CNC Helfer</title>

<style>

body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI";
background:#eef1f5;
}

.container{
max-width:750px;
margin:auto;
padding:20px;
}

.card{
background:white;
padding:20px;
border-radius:18px;
box-shadow:0 10px 25px rgba(0,0,0,0.08);
margin-bottom:20px;
}

h1{text-align:center;}

input,select{
width:100%;
padding:14px;
margin-top:10px;
border-radius:12px;
border:1px solid #d0d6dc;
font-size:18px;
}

button{
width:100%;
padding:16px;
margin-top:15px;
border:none;
border-radius:14px;
background:#007AFF;
color:white;
font-size:20px;
font-weight:bold;
}

.menuButton{
padding:18px;
font-size:20px;
margin-top:10px;
background:#34C759;
}

.back{
background:#999;
margin-bottom:10px;
}

.result{
margin-top:15px;
font-size:18px;
font-weight:bold;
}

.hidden{display:none;}

</style>
</head>

<body>

<!-- LOGIN -->

<div class="container" id="loginBox">
<div class="card">
<h2>üîê CNC Helfer</h2>

<input id="password" type="password" placeholder="Passwort">
<button onclick="checkPassword()">Login</button>

<p id="error" style="color:red;"></p>
</div>
</div>



<div class="container hidden" id="app">

<h1>CNC Helfer</h1>

<!-- MENU -->

<div id="menu">

<div class="card">
<button class="menuButton" onclick="openPage('bohren')">üõ† Bohren</button>
<button class="menuButton" onclick="openPage('gewinde')">üî© Gewinde</button>
</div>

</div>



<!-- BOHREN -->

<div id="bohren" class="hidden">

<button class="back" onclick="goBack()">‚Üê Zur√ºck</button>

<div class="card">

<h2>Bohren</h2>

<select id="bohrMode">
<option value="grid">Gitter</option>
<option value="circle">Lochkreis</option>
</select>

<div id="bohrGrid">

<input id="bx" placeholder="X L√§nge mm">
<input id="by" placeholder="Y L√§nge mm">
<input id="btool" placeholder="Werkzeug √ò">
<input id="bsteg" placeholder="Steg">

</div>

<div id="bohrCircle" class="hidden">

<input id="bdurchmesser" placeholder="Werkst√ºck √ò">
<input id="btool2" placeholder="Werkzeug √ò">
<input id="bsteg2" placeholder="Steg">

</div>

<button onclick="calcBohr()">Berechnen</button>

<div class="result" id="bohrResult"></div>

</div>

</div>



<!-- GEWINDE -->

<div id="gewinde" class="hidden">

<button class="back" onclick="goBack()">‚Üê Zur√ºck</button>

<div class="card">

<h2>Gewinde</h2>

<select id="gewindeMode">
<option value="grid">Gitter</option>
<option value="circle">Lochkreis</option>
</select>

<select id="threadType">
<option value="1">Gewindeschneiden</option>
<option value="2">Gewindeformen</option>
</select>

<select id="threadSize">
<option value="4,0.7">M4</option>
<option value="5,0.8">M5</option>
<option value="6,1">M6</option>
<option value="8,1.25">M8</option>
<option value="10,1.5">M10</option>
<option value="12,1.75">M12</option>
</select>

<div id="gewindeGrid">

<input id="gx" placeholder="X L√§nge mm">
<input id="gy" placeholder="Y L√§nge mm">

</div>

<div id="gewindeCircle" class="hidden">

<input id="gdurchmesser" placeholder="Werkst√ºck √ò">

</div>

<button onclick="calcGewinde()">Berechnen</button>

<div class="result" id="gewindeResult"></div>

</div>

</div>

</div>



<script>

// Passwort
const correctPassword="cnc123";

function checkPassword(){

if(document.getElementById("password").value===correctPassword){

loginBox.style.display="none";
app.classList.remove("hidden");

}else{
error.innerText="Falsches Passwort!";
}

}

// Navigation
function openPage(id){

menu.style.display="none";

bohren.classList.add("hidden");
gewinde.classList.add("hidden");

document.getElementById(id).classList.remove("hidden");

}

function goBack(){

menu.style.display="block";
bohren.classList.add("hidden");
gewinde.classList.add("hidden");

}

// Mode Toggle

bohrMode.onchange=()=>{
bohrGrid.classList.toggle("hidden",bohrMode.value!=="grid");
bohrCircle.classList.toggle("hidden",bohrMode.value!=="circle");
}

gewindeMode.onchange=()=>{
gewindeGrid.classList.toggle("hidden",gewindeMode.value!=="grid");
gewindeCircle.classList.toggle("hidden",gewindeMode.value!=="circle");
}


// BOHREN

function calcBohr(){

if(bohrMode.value==="grid"){

let x=parseFloat(bx.value);
let y=parseFloat(by.value);
let tool=parseFloat(btool.value);
let steg=parseFloat(bsteg.value);

let raster=tool+steg;

let cx=Math.floor(x/raster);
let cy=Math.floor(y/raster);

let sx=(x-(cx-1)*raster)/2;
let sy=(y-(cy-1)*raster)/2;

bohrResult.innerHTML=`
Raster: ${raster.toFixed(2)} mm<br>
X: ${cx} | Y: ${cy}<br>
Start X: ${sx.toFixed(2)}<br>
Start Y: ${sy.toFixed(2)}
`;

}else{

let d=parseFloat(bdurchmesser.value);
let tool=parseFloat(btool2.value);
let steg=parseFloat(bsteg2.value);

let raster=tool+steg;
let radius=(d/2)-(tool/2);

let umfang=2*Math.PI*radius;
let count=Math.floor(umfang/raster);

let angle=360/count;

bohrResult.innerHTML=`
Radius: ${radius.toFixed(2)} mm<br>
Bohrungen: ${count}<br>
Winkelschritt: ${angle.toFixed(2)}¬∞
`;

}

}



// GEWINDE

function calcGewinde(){

let type=parseFloat(threadType.value);
let data=threadSize.value.split(",");

let dia=parseFloat(data[0]);
let pitch=parseFloat(data[1]);

let spacing=pitch*type;
let raster=dia+spacing;

if(gewindeMode.value==="grid"){

let x=parseFloat(gx.value);
let y=parseFloat(gy.value);

let cx=Math.floor(x/raster);
let cy=Math.floor(y/raster);

let sx=(x-(cx-1)*raster)/2;
let sy=(y-(cy-1)*raster)/2;

gewindeResult.innerHTML=`
Achsabstand: ${raster.toFixed(2)} mm<br>
X: ${cx} | Y: ${cy}<br>
Start X: ${sx.toFixed(2)}<br>
Start Y: ${sy.toFixed(2)}
`;

}else{

let d=parseFloat(gdurchmesser.value);
let radius=d/2;

let umfang=2*Math.PI*radius;
let count=Math.floor(umfang/raster);
let angle=360/count;

gewindeResult.innerHTML=`
Radius: ${radius.toFixed(2)} mm<br>
Gewinde: ${count}<br>
Winkelschritt: ${angle.toFixed(2)}¬∞
`;

}

}

</script>

</body>
</html>
